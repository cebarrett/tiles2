@(title: String)
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>@title</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<meta name="google" content="notranslate">
		<meta http-equiv="Content-Language" content="en" />
		<link href='http://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/normalize.css")">
		<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/index.css")">
	</head>
	<body>
		<div id="app" ng-app="app" ng-controller="AppCtrl" app-controls>
			<div id="controls" ng-show="connected &amp;&amp; showLeftPanel">
				<div ng-click="north()">north</div>
				<div ng-click="west()">west</div>
				<div ng-click="east()">east</div>
				<div ng-click="south()">south</div>
			</div>
			<div id="content" ng-show="connected">
				<div world>
					<!-- FIXME: too slow, instead reuse dom elements from a pool. -->
					<div chunk ng-repeat="chunk in chunks"></div>
				</div>
				<div class="gui gui-{{gui == craft.kind}}" ng-repeat="craft in crafts">
					<d type="button" tabIndex="1" ng-click="closeGui()">close</button>
					<div>{{craft.kind}}</div>
					<div class="gui-option" ng-repeat="recipe in craft.recipes">
						<button type="button" tabindex="{{$index+2}}" ng-click="selectRecipe(craft.kind, $index)">
							{{recipe | recipeFilter}}
						</button>
					</div>
				</div>
			</div>
			<div id="right" ng-show="connected">
				<div class="player-info" ng-click="showLeftPanel = !showLeftPanel">
					<div>{{player.name}}</div>
					<div>
						<span style="display: inline-block; width: 50px;">
							<small>X</small>
							<span>{{player.x}}</span>
						</span>
						<span>
							<small>Y</small>
							<span>{{player.y}}</span>
						</span>
					</div>
					<div>
						<small>HP</small>
						<span>{{playerEntity.hitPoints}}</span>
					</div>
				</div>
				<ul class="itemList">
					<li item class="item-stack item-selected-{{$index == player.inventory.selected}}" ng-repeat="item in player.inventory.items" ng-click="selectItem($index)">
						<span>{{item.count}}</span>
						<span>{{item.material.kind}} {{item.kind}}</span>
					</li>
				</ul>
			</div>
		</div>
		<script src="@routes.Assets.at("javascripts/raf.js")" type="text/javascript"></script>
		<script src="@routes.Assets.at("javascripts/lodash.js")" type="text/javascript"></script>
		<script src="@routes.Assets.at("javascripts/jquery.js")" type="text/javascript"></script>
		<script src="@routes.Assets.at("javascripts/angular.js")" type="text/javascript"></script>
		<script src="@routes.Assets.at("javascripts/index.js")" type="text/javascript"></script>
		<script src="@routes.Assets.at("javascripts/filters.js")" type="text/javascript"></script>
		<script src="@routes.Assets.at("javascripts/services.js")" type="text/javascript"></script>
		<script src="@routes.Assets.at("javascripts/directives.js")" type="text/javascript"></script>
		<script src="@routes.Assets.at("javascripts/controllers.js")" type="text/javascript"></script>
	</body>
</html>
